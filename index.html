<!DOCTYPE html>
<html>
<head>
    <title>API数据展示</title>
    <!-- 引入jQuery，这样我们可以用它来简化操作 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>用户数据表格</h1>
    
    <!-- 这里将显示我们从API获取的数据 -->
    <table id="dataTable" border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>姓名</th>
                <th>用户名</th>
                <th>邮箱</th>
            </tr>
        </thead>
        <tbody>
            <!-- 数据将动态添加到这里 -->
        </tbody>
    </table>

    <!-- 我们的JavaScript代码 -->
    <script>
        // // 这是一个免费的测试API，我们可以用它来练习
const apiUrl = 'https://jsonplaceholder.typicode.com/users';

// 使用jQuery的ajax方法获取数据
$.ajax({
    url: apiUrl,
    method: 'GET',
    success: function(data) {
        // 成功获取数据后执行这里
        console.log('获取到的数据:', data); // 在浏览器控制台查看数据
        
        // 调用函数来处理和显示数据
        displayData(data);
    },
    error: function(error) {
        // 如果出错执行这里
        console.log('出错了:', error);
        alert('获取数据失败，请查看控制台信息');
    }
});

// 处理并显示数据的函数
function displayData(users) {
    const tableBody = $('#dataTable tbody');
    
    // 清空表格中可能存在的旧数据
    tableBody.empty();
    
    // 遍历每个用户数据
    users.forEach(function(user) {
        // 创建一行表格数据
        const row = `
            <tr>
                <td>${user.id}</td>
                <td>${user.name}</td>
                <td>${user.username}</td>
                <td>${user.email}</td>
            </tr>
        `;
        
        // 将新行添加到表格中
        tableBody.append(row);
    });
    
    console.log('数据展示完成！共显示 ' + users.length + ' 条记录');
}
    </script>
</body>
</html>
